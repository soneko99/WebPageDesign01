<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AIãƒ„ãƒ¼ãƒ«ä¸€è¦§</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #1e1e1e;
            color: #f0f0f0;
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #ffffff;
            margin-bottom: 10px;
        }

        .description {
            text-align: center;
            font-size: 0.95em;
            margin-bottom: 25px;
            line-height: 1.5;
            color: #ccc;
        }

        .description table {
            margin: 0 auto;
            font-size: 0.9em;
            border-collapse: collapse;
            color: #f0f0f0;
        }

        .description th,
        .description td {
            padding: 6px 12px;
            border: 1px solid #444;
        }

        .controls {
            text-align: center;
            margin-bottom: 20px;
        }

        .controls input {
            margin: 5px;
            padding: 8px;
            border-radius: 4px;
            border: none;
            font-size: 1em;
            width: 300px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: #2c2c2c;
        }

        th,
        td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid #444;
        }

        th {
            background-color: #3a3a3a;
            color: #ffffff;
            cursor: pointer;
        }

        tr:hover {
            background-color: #383838;
        }

        a {
            color: #4ea1ff;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        select {
            margin-top: 4px;
            background-color: #2c2c2c;
            color: #f0f0f0;
            border: 1px solid #666;
            border-radius: 4px;
            font-size: 0.9em;
            width: 100%;
        }
    </style>
</head>

<body>
    <h1>AIãƒ„ãƒ¼ãƒ«ä¸€è¦§</h1>
    <div class="description">
        <strong>âœ… çµµæ–‡å­—ã‚¢ã‚¤ã‚³ãƒ³åŒ–æ¡ˆï¼ˆæ–™é‡‘ï¼‰</strong><br>
        <table>
            <tr>
                <th>åŒºåˆ†</th>
                <th>è¡¨ç¤ºã‚¢ã‚¤ã‚³ãƒ³</th>
                <th>èª¬æ˜</th>
            </tr>
            <tr>
                <td>ç„¡æ–™</td>
                <td>ğŸŸ¢ ç„¡æ–™</td>
                <td>èª°ã§ã‚‚ç„¡æ–™ã§ä½¿ãˆã‚‹</td>
            </tr>
            <tr>
                <td>æœ‰æ–™</td>
                <td>ğŸ”µ æœ‰æ–™</td>
                <td>æœ‰æ–™ãƒ—ãƒ©ãƒ³ä¸­å¿ƒ or æœˆé¡èª²é‡‘</td>
            </tr>
            <tr>
                <td>ä¸€éƒ¨ç„¡æ–™</td>
                <td>ğŸŸ¡ ä¸€éƒ¨ç„¡æ–™</td>
                <td>ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ï¼ãƒ•ãƒªãƒ¼ãƒŸã‚¢ãƒ ãªã©</td>
            </tr>
            <tr>
                <td>Proé™å®š</td>
                <td>ğŸŸ£ Proé™å®š</td>
                <td>æœ‰æ–™ã‚µãƒ–ã‚¹ã‚¯å†…ã®æ©Ÿèƒ½ï¼ˆä¾‹ï¼šDALLÂ·E 3ï¼‰</td>
            </tr>
        </table>
    </div>
    <div class="controls">
        <input type="text" id="searchInput" placeholder="æ¤œç´¢ï¼ˆãƒ„ãƒ¼ãƒ«åãƒ»ç”¨é€”ãªã©ï¼‰" />
    </div>
    <table id="aiTable">
        <thead>
            <tr>
                <th data-col="0">ã‚¸ãƒ£ãƒ³ãƒ«<br><select id="colFilter0"></select></th>
                <th data-col="1">ç”¨é€”<br><select id="colFilter1"></select></th>
                <th data-col="2">ãƒ„ãƒ¼ãƒ«å<br><select id="colFilter2"></select></th>
                <th data-col="3">æ–™é‡‘<br><select id="colFilter3"></select></th>
                <th data-col="4">NSFW<br><select id="colFilter4"></select></th>
                <th data-col="5">å‚™è€ƒ<br><select id="colFilter5"></select></th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <script>
        const searchInput = document.getElementById('searchInput');
        const table = document.getElementById('aiTable');
        const tbody = table.querySelector('tbody');
        const columnFilters = [...Array(6)].map((_, i) => document.getElementById(`colFilter${i}`));
        let originalData = [];

        fetch('/data/ai-tools.json')
            .then(response => response.json())
            .then(data => {
                originalData = data;
                renderTable(data);
                populateColumnFilters();
                addEventListeners();
            });

        function renderTable(data) {
            tbody.innerHTML = '';
            data.forEach(item => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${item['ã‚¸ãƒ£ãƒ³ãƒ«'] || ''}</td>
                    <td>${item['ç”¨é€”'] || ''}</td>
                    <td><a href="${item['URL'] || '#'}" target="_blank">${item['ãƒ„ãƒ¼ãƒ«å'] || ''}</a></td>
                    <td>${item['æ–™é‡‘'] || ''}</td>
                    <td>${item['NSFWå¯¾å¿œ'] || ''}</td>
                    <td>${item['å‚™è€ƒ'] || ''}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        function populateColumnFilters() {
            columnFilters.forEach((select, colIndex) => {
                const uniqueVals = new Set(originalData.map(item => Object.values(item)[colIndex]));
                select.innerHTML = '<option value="">å…¨ã¦</option>' + [...uniqueVals].sort().map(val => `<option value="${val}">${val}</option>`).join('');
            });
        }

        function filterTable() {
            const search = searchInput.value.toLowerCase();
            const colValues = columnFilters.map(select => select.value);
            const filtered = originalData.filter(item => {
                const searchableValues = [
                    item['ã‚¸ãƒ£ãƒ³ãƒ«'],
                    item['ç”¨é€”'],
                    item['ãƒ„ãƒ¼ãƒ«å'],
                    item['æ–™é‡‘'],
                    item['NSFWå¯¾å¿œ']
                ].map(val => (val || '').toLowerCase());

                const matchesSearch = searchableValues.some(val => val.includes(search));
                const matchesColumns = colValues.every((val, idx) => val === '' || Object.values(item)[idx] === val);
                return matchesSearch && matchesColumns;
            });
            renderTable(filtered);
        }

        function addEventListeners() {
            searchInput.addEventListener('input', filterTable);
            columnFilters.forEach(select => select.addEventListener('change', filterTable));
            table.querySelectorAll('th').forEach((header, index) => {
                header.addEventListener('click', () => {
                    originalData.sort((a, b) => {
                        const valA = Object.values(a)[index];
                        const valB = Object.values(b)[index];
                        return valA.localeCompare(valB, 'ja');
                    });
                    filterTable();
                });
            });
        }
    </script>
</body>

</html>